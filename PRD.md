## 產品目標  
此系統的核心目的是用於展示一個倉儲管理系統（WMS）的基本功能與流程，包含商品建檔、入庫、出庫、庫存查詢與盤點。  
- 採用 **Python Flask** 建構前後端整合的網站（無分離架構）。  
- 不使用正式資料庫，僅以 **記憶體資料結構 / JSON 檔案** 模擬資料持久化。  
- 著重於 CRUD、倉儲邏輯處理，以及頁面互動性功能展示。  

***

## 系統核心功能  

### 商品與儲位管理
- **商品建檔 CRUD**
  - 建立商品：輸入名稱、條碼、單位、類別。
  - 編輯商品：修改商品資訊。
  - 查詢商品：透過條碼或名稱查詢。
  - 刪除商品：可刪除未使用的樣本商品。
- **儲位建檔 CRUD**
  - 建立儲位：輸入儲位編號、描述。  
  - 可將商品與儲位關聯，模擬實體庫位管理。  

### 入庫作業  
- 新增入庫單：選擇商品、數量、存放儲位。  
- 自動更新庫存資料表（在記憶體/JSON）。  
- UI 支援條碼輸入或手動選擇。  

### 出庫作業  
- 新增出庫單：選擇商品、數量，並指定儲位。  
- 自動扣減庫存資料保持正確。  
- 若出庫 > 庫存數量，顯示錯誤提示。  

### 庫存查詢  
- 可用商品名稱、條碼或儲位查詢當前數量。  
- 支援篩選條件（庫存大於 0、低於安全庫存量）。  
- 列表顯示：商品名稱、條碼、數量、儲位資訊。  

### 盤點作業  
- 建立盤點單：針對某些商品或全品項。  
- 輸入盤點數量後，系統計算差異。  
- 可產生盤點差異報表。  

***

## 系統架構與技術  

### 前端 (由 Flask templates 提供)
- 使用 **Flask Jinja2 template + Bootstrap** 實現網頁 UI。  
- 簡易 Barcode 模擬（可透過輸入框 + Enter 代替）。  
- 功能頁面：
  - 商品管理頁
  - 儲位管理頁
  - 入庫頁
  - 出庫頁
  - 庫存查詢頁
  - 盤點頁
  - 後台儀表板（庫存統計圖表）  

### 後端  
- Flask 處理頁面 routing 與 CRUD 邏輯。  
- 使用 **全域變數 dict/list** 當作 in-memory database。  
- 可額外選擇 JSON 檔案存檔重啟時重新載入。  

### 模擬資料結構  
- **商品 (products)**  
  ```python
  {
    "P001": {"name": "商品A", "barcode": "1234567890", "unit": "箱", "category": "食品"}
  }
  ```
- **儲位 (locations)**  
  ```python
  {
    "L001": {"desc": "一樓A區"}
  }
  ```
- **庫存 (stocks)**  
  ```python
  {
    ("P001", "L001"): 50  # 商品 P001 在儲位 L001 庫存 50
  }
  ```
- **入庫/出庫/盤點單 (transactions)**  
  - 以 list 紀錄歷史紀錄，用於查詢與報表。  

***

## 頁面與流程設計  

### 儀表板 (Dashboard)  
- 展示統計：總商品數、總庫存量、當日入庫筆數、出庫筆數。  
- 可視化圖表（使用 Chart.js 或 Bootstrap table）。  

### 商品建檔流程  
1. 使用者點選「新增商品」，輸入名稱與條碼。  
2. 商品資料寫入存放結構。  
3. 商品一覽表更新顯示。  

### 入庫流程  
1. 使用者選擇商品、儲位與數量。  
2. 系統將庫存數量累加。  
3. 更新 transaction log。  

### 出庫流程  
1. 使用者輸入待出庫商品、儲位數量。  
2. 系統驗證庫存是否足夠，若不足警告。  
3. 扣減庫存並更新 transaction log。  

### 盤點流程  
1. 建立盤點單，指定需要盤點的商品/儲位。  
2. 使用者輸入實際盤點數量。  
3. 系統比對原庫存，計算差異，列出報表。  

***

## 非功能需求  
- **簡易安裝**：單一 Flask app.py 即可執行，不需額外安裝 DB 或 API server。  
- **效能**：適用於小量 demo，不考慮大規模性能。  
- **UI**：直觀簡潔，方便快速展示 WMS 功能。  